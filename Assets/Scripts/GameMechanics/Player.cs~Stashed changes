using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;
using UnityEngine.UI;

namespace Maze
{
    public class Player : MonoBehaviour
    {
        public int lives = 3;
        public Transform spawnPoint;
        public Text livesText;
        public GameObject level;
        public Text keyCounter;
        public int keyCount;

<<<<<<< Updated upstream:Assets/Scripts/GameMechs/Player.cs

        private float spawnTimer = 3;
        
        // Use this for initialization
        void Start()
        {
            Time.timeScale = 1;
=======
        float spawnTimer = 3;

        // Use this for initialization
        void Start()
        {
   
>>>>>>> Stashed changes:Assets/Scripts/GameMechanics/Player.cs
        }

        // Update is called once per frame
        void Update()
        {
            livesText.text = "Lives: " + lives;
            keyCounter.text = "Key: " + keyCount + " / 3";
        }
        void OnCollisionEnter(Collision col)
        {
            if (col.gameObject.tag == "enemy")
            {
                if (lives > 0)
                {
                    lives--;
                    // gameObject.SetActive(false);
                    this.StartCoroutine(Respawn());
                }
                if (lives <= 0)
                {
                    Destroy(gameObject);
                    SceneManager.LoadScene("GameOverScene");
                }
            }
        }
        void OnTriggerEnter(Collider col)
        {
            if (col.gameObject.tag == "key")
            {
                Destroy(col.gameObject);
                keyCount++;
            }
            Debug.Log(keyCount);
        }
        IEnumerator Respawn()
        {
            yield return new WaitForSeconds(spawnTimer);
            //gameObject.SetActive(true);
            level.transform.rotation = Quaternion.Euler(0, 0, 0);
            transform.position = spawnPoint.position;

        }
    }
}